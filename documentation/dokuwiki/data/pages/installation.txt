===== Installation =====

<note>
Diese Anleitung beschreibt nur die Installation von Part-DB, die Infrastruktur (Apache, PHP, MySQL) wird hier vorausgesetzt. Möchten Sie Ihren eigenen Webserver installieren, müssen Sie zuerst die notwendigen Serverkomponenten installieren. Wie das geht, ist in den [[Anforderungen]] beschrieben.
</note>

===  Part-DB herunterladen ===

Zuerst lädt man Part-DB herunter und entpackt das Archiv z.B. in den persönlichen Ordner (Den Link zur aktuellsten Version bitte von der [[https://code.google.com/p/part-db/downloads/list|Downloadseite]] holen!):
<code>
wget -O part-db.tar.gz https://part-db.googlecode.com/files/Part-DB-0.2.2.tar.gz
mkdir part-db
tar xfv part-db.tar.gz -C part-db
</code>

===  Anlegen der Datenbank ===

Als Erstes muss auf dem MySQL Server eine neue Datenbank für Part-DB angelegt werden. Es empfiehlt sich, auch einen neuen Benutzer anzulegen, der ausschliesslich für Part-DB bestimmt ist. 

<note important>
Der Benutzer muss unbedingt jegliche Rechte an der Datenbank von Part-DB besitzen, ansonsten funktionieren die Datenbankupdates eventuell nicht richtig!
</note>

Die Datenbank und der Benutzer können z.B. über das Webinterface phpMyAdmin, oder in der Konsole angelegt werden (DATENBANKNAME, BENUTZER und PASSWORT entsprechend ersetzen):

<code language="bash">
mysql -u root -p
CREATE DATABASE `DATENBANKNAME`;
GRANT ALL ON `DATENBANKNAME`.* TO `BENUTZERNAME`@localhost IDENTIFIED BY 'PASSWORT';
quit
</code>

dann kurz testen, ob der Datenbankzugriff funktioniert:

<code language="xml">
mysql -u BENUTZERNAME -DATENBANKNAME -p
quit
</code>

=== Webserver konfigurieren ===

Liegen die Dateien von Part-DB nicht im Hauptverzeichnis des Webservers (unter Linux häufig "/var/www/"), muss Part-DB dem Webserver noch bekannt gemacht werden. Dazu bietet sich z.B. ein Softlink an:

<code language="xml">
sudo ln -s ~/part-db /var/www/part-db
</code>

Dann sollte die Startseite unter [[http://localhost/part-db]] erscheinen. Möchte man Part-DB von einem anderen PC im Netzwerk aufrufen, muss "localhost" durch die IP-Adresse des Servers ersetzt werden.

===  Zugriffsrechte für Verzeichnisse setzen === 

Das Verzeichnis "media" muß für den Webserver schreibbar sein, damit der Dateiupload funktioniert:

<code language="bash">
cd part-db
chmod 664 media
</code>

=== Konfiguration von Part-DB ===

Beim ersten Aufrufen von Part-DB wird automatisch ein Installationsassistent gestartet. Dort müssen Sie u.A. die Angaben für die soeben angelegte Datenbank und Benutzer eingegeben werden. Danach werden Sie darauf hingewiesen, dass die Datenbank aktualisiert werden muss. Mit diesem Update werden dann alle Tabellen in der Datenbank angelegt bzw. aktualisiert, wenn sie schon vorhanden sind.

Schlägt dieses Update fehl, sollten Sie überprüfen ob der angegebene Benutzer genügend Rechte an der Datenbank besitzt. Fehlende Rechte ist die häufigste Ursache für fehlgeschlagene Datenbankupdates!

Ist das Update erfolgreich durchgelaufen, ist Part-DB vollständig einsatzbereit!

=== Updates ===

Möchte man eine bereits vorhandene Installation von Part-DB aktualisieren, muss man einfach das heruntergeladene Paket der neuen Part-DB Version im Installationsordner von Part-DB entpacken. Dabei müssen die bereits existierenden Dateien überschrieben werden.

<note important>
Es wird empfohlen, vor jedem Update eine Sicherung der Datenbank, vom Verzeichnis "media", sowie von der Datei "config.php" zu erstellen. Die Entwickler von Part-DB übernehmen keinerlei Haftung für Schäden, die durch fehlgeschlagene Updates verursacht werden.
</note>